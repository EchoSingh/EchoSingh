name: Steam Metrics

on:
  schedule:
    - cron: "30 18 * * *"
  workflow_dispatch:

jobs:
  steam:
    runs-on: ubuntu-latest

    steps:
      - uses: lowlighter/metrics@latest
        with:
          filename: metrics.steam.svg

          # IMPORTANT â†’ disable GitHub parts
          token: NOT_NEEDED
          base: ""

          # Steam only
          plugin_steam: yes
          plugin_steam_token: ${{ secrets.STEAM_TOKEN }}
          plugin_steam_user: ${{ secrets.STEAM_USER_ID }}

          plugin_steam_sections: recently-played
          plugin_steam_recent_games_limit: 3
          plugin_steam_achievements_limit: 0
